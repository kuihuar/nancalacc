server:
  http:
    addr: 0.0.0.0:8001
    timeout: 5s
  grpc:
    addr: 0.0.0.0:9001
    timeout: 5s   
data:
  database:
    driver: mysql
    # 使用环境变量或加密配置
    source: root:liujianfeng@tcp(192.168.1.142:3306)/nancalacc?timeout=15s&charset=utf8mb4&parseTime=True
    max_open_conns: 20
    max_idle_conns: 10
    conn_max_lifetime: 6h
    tag: migrate
    enable: false
  database_sync:
    driver: mysql
    source: root:liujianfeng@tcp(192.168.1.142:3306)/nancalacc?timeout=15s&charset=utf8mb4&parseTime=True
    source_key: ECIS_ECISACCOUNTSYNC_DB
    max_open_conns: 20
    max_idle_conns: 10
    conn_max_lifetime: 6h
    env: "dev"
    enable: true
  redis:
    addr: 192.168.1.142:6379
    password: liujianfeng
    read_timeout: 0.2s
    write_timeout: 0.2s
    enable: false
  etcd:
    endpoints:
      - ${ETCD_ENDPOINT}
    dial_timeout: "5s"
    config_prefix: "/configs/nancalacc/"
    enable_config_watch: true
    enable: false  
app:
  id: "nancalacc"
  name: "nancalacc"
  version: "v1.0.0"
  env: "prod"
  log_level: "INFO"
  logout: "stdout"
  app_package: "com.acc.async"
  app_id: "com.acc.async"
  app_secret: "dSv5TAv7fDArmoI9GQY0dxImQcb85SiO"
  third_company_id: "1" # 三方租户ID nancal
  platform_ids: "1" # 客户源数据ID dingtalkofnancal
  company_id: "1" # 云文档租户公司ID nancal
  access_key: "NRSXWTPKNAIRUBMP"
  secret_key: "SKnwwvvngrhcrpgc"

otel:
  enabled: true                    # 是否启用OpenTelemetry
  service_name: "nancalacc"        # 服务名称
  service_version: "v1.0.0"        # 服务版本
  environment: "development"         # 环境
  
  # 追踪配置
  traces:
    enabled: true                  # 是否启用分布式追踪
    verbose_logging: true          # 详细日志
    log_request_size: true         # 记录请求大小
    log_response_size: true        # 记录响应大小
    log_headers: true              # 记录请求头
    log_query_params: true         # 记录查询参数
    
    # 主要使用 OTLP 导出器（推荐用于 Jaeger 2.9）
    otlp:
      enabled: true               # 启用 OTLP
      endpoint: "192.168.1.142:4317"   # OTLP端点（对应你的 Jaeger 2.9 配置）
      timeout: 10                  # 超时时间（秒）
    
    # 备用 Jaeger 导出器（兼容性）
    jaeger:
      enabled: false               # 禁用 Jaeger 导出器，使用 OTLP
      endpoint: "http://192.168.1.142:14268/api/traces"  # Jaeger收集器端点
    
    # Prometheus 不用于追踪，仅用于指标
    prometheus:
      enabled: false               # 禁用 Prometheus 追踪（Prometheus 主要用于指标）
      endpoint: "192.168.1.142:9090"   # Prometheus端点
      interval: "15s"              # 收集间隔
  
  # 指标配置
  metrics:
    enabled: true                  # 是否启用指标收集
    prometheus:
      enabled: true                # 是否启用Prometheus
      endpoint: "192.168.1.142:9090"   # Prometheus端点
      interval: "15s"              # 指标收集间隔
  
  # 日志配置
  logs:
    enabled: true                  # 是否启用日志收集
    level: "info"                  # 日志级别: debug, info, warn, error, fatal
    format: "console"                 # 日志格式: json, console
    output: "file"               # 输出目标: stdout, stderr, file
    file_path: "logs/app.log"                  # 文件路径（当output为file时）
    max_size: 100                  # 最大文件大小（MB）
    max_backups: 3                 # 最大备份文件数
    max_age: 5                    # 最大保留天数
    compress: true                 # 是否压缩
    caller: true                   # 是否显示调用者信息
    stacktrace: true               # 是否显示堆栈跟踪
    escape_newlines: false         # 是否转义换行符
    gorm:
      slow_threshold: "1s"         # 慢查询阈值
      log_level: "info"            # GORM日志级别
    loki:
      enabled: false                # 是否启用Loki
      endpoint: "http://localhost:3100/loki/api/v1/push"  # Loki推送端点
auth:
  wpsapp:
    client_id: "com.acc.async"
    client_secret: "dSv5TAv7fDArmoI9GQY0dxImQcb85SiO"
    auth_url: "http://119.3.173.229"
    auth_path: "/openapi/oauth2/token"
    grant_type: "client_credentials"
  dingtalk:
   endpoint: "https://oapi.dingtalk.com"
   app_key: "dinglz1setxqhrpp7aa0"       
   app_secret: "uHVTlmVFojonyjlBIDbzsxLZ_iJfviqUMpT1LKNxP9P4TYr8LhaiwymiQfb0fjxr"
   timeout: "5s"
   maxConcurrent: 10