# é¡¹ç›®ç›®å½•ç»“æ„æ”¹è¿›å»ºè®®

## å½“å‰é¡¹ç›®ç»“æ„åˆ†æ

### âœ… å·²ç¬¦åˆæ ‡å‡†çš„éƒ¨åˆ†
- åŸºç¡€ç›®å½•ç»“æ„ (`cmd/`, `internal/`, `pkg/`, `api/`)
- é…ç½®æ–‡ä»¶ç®¡ç† (`configs/`)
- æ–‡æ¡£ç®¡ç† (`docs/`)
- æ„å»ºè„šæœ¬ (`scripts/`)
- Dockeræ”¯æŒ

### ğŸ”§ éœ€è¦æ”¹è¿›çš„éƒ¨åˆ†

## 1. æµ‹è¯•ç›®å½•ç»“æ„ä¼˜åŒ–

### å½“å‰é—®é¢˜
- `test/` ç›®å½•ä¸ºç©º
- æµ‹è¯•æ–‡ä»¶åˆ†æ•£åœ¨å„ä¸ªåŒ…ä¸­
- ç¼ºå°‘é›†æˆæµ‹è¯•å’Œç«¯åˆ°ç«¯æµ‹è¯•

### å»ºè®®æ”¹è¿›
```
test/
â”œâ”€â”€ unit/                    # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”œâ”€â”€ biz/
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ data/
â”‚   â””â”€â”€ pkg/
â”œâ”€â”€ integration/             # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ database/
â”‚   â””â”€â”€ third_party/
â”œâ”€â”€ e2e/                     # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ scenarios/
â”‚   â””â”€â”€ fixtures/
â”œâ”€â”€ benchmarks/              # æ€§èƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ sync/
â”‚   â””â”€â”€ saga/
â””â”€â”€ mocks/                   # æµ‹è¯•æ¨¡æ‹Ÿ
    â”œâ”€â”€ repositories/
    â””â”€â”€ services/
```

## 2. æ–‡æ¡£ç»“æ„ä¼˜åŒ–

### å½“å‰é—®é¢˜
- æ–‡æ¡£åˆ†æ•£åœ¨æ ¹ç›®å½•å’Œ `docs/` ç›®å½•
- ç¼ºå°‘ç»Ÿä¸€çš„æ–‡æ¡£ç»„ç»‡

### å»ºè®®æ”¹è¿›
```
docs/
â”œâ”€â”€ README.md               # æ–‡æ¡£ç´¢å¼•
â”œâ”€â”€ getting-started/        # å¿«é€Ÿå¼€å§‹
â”‚   â”œâ”€â”€ installation.md
â”‚   â”œâ”€â”€ configuration.md
â”‚   â””â”€â”€ first-run.md
â”œâ”€â”€ architecture/           # æ¶æ„æ–‡æ¡£
â”‚   â”œâ”€â”€ overview.md
â”‚   â”œâ”€â”€ data-structures/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ decisions/
â”œâ”€â”€ api/                    # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ openapi.yaml
â”‚   â”œâ”€â”€ endpoints.md
â”‚   â””â”€â”€ examples/
â”œâ”€â”€ deployment/             # éƒ¨ç½²æ–‡æ¡£
â”‚   â”œâ”€â”€ docker.md
â”‚   â”œâ”€â”€ kubernetes.md
â”‚   â””â”€â”€ production.md
â”œâ”€â”€ development/            # å¼€å‘æ–‡æ¡£
â”‚   â”œâ”€â”€ setup.md
â”‚   â”œâ”€â”€ testing.md
â”‚   â””â”€â”€ contributing.md
â””â”€â”€ troubleshooting/        # æ•…éšœæ’é™¤
    â”œâ”€â”€ common-issues.md
    â””â”€â”€ logs.md
```

## 3. é…ç½®ç®¡ç†ä¼˜åŒ–

### å½“å‰é—®é¢˜
- é…ç½®æ–‡ä»¶æ··åˆäº†ä¸åŒç¯å¢ƒçš„é…ç½®
- ç¼ºå°‘é…ç½®éªŒè¯å’Œé»˜è®¤å€¼

### å»ºè®®æ”¹è¿›
```
configs/
â”œâ”€â”€ base/                   # åŸºç¡€é…ç½®
â”‚   â”œâ”€â”€ app.yaml
â”‚   â”œâ”€â”€ database.yaml
â”‚   â””â”€â”€ logging.yaml
â”œâ”€â”€ environments/           # ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ development/
â”‚   â”œâ”€â”€ staging/
â”‚   â””â”€â”€ production/
â”œâ”€â”€ third_party/            # ç¬¬ä¸‰æ–¹æœåŠ¡é…ç½®
â”‚   â”œâ”€â”€ dingtalk.yaml
â”‚   â”œâ”€â”€ loki.yaml
â”‚   â””â”€â”€ otel.yaml
â””â”€â”€ templates/              # é…ç½®æ¨¡æ¿
    â”œâ”€â”€ docker-compose.yml
    â””â”€â”€ kubernetes/
```

## 4. æ„å»ºå’Œéƒ¨ç½²ä¼˜åŒ–

### å½“å‰é—®é¢˜
- æ„å»ºè„šæœ¬åˆ†æ•£
- ç¼ºå°‘CI/CDé…ç½®

### å»ºè®®æ”¹è¿›
```
build/
â”œâ”€â”€ docker/                 # Dockerç›¸å…³
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ multi-stage/
â”œâ”€â”€ kubernetes/             # K8sé…ç½®
â”‚   â”œâ”€â”€ deployments/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ configmaps/
â”œâ”€â”€ scripts/                # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build.sh
â”‚   â”œâ”€â”€ test.sh
â”‚   â””â”€â”€ deploy.sh
â””â”€â”€ ci/                     # CI/CDé…ç½®
    â”œâ”€â”€ .github/
    â”œâ”€â”€ .gitlab-ci.yml
    â””â”€â”€ jenkins/
```

## 5. ä»£ç ç»„ç»‡ä¼˜åŒ–

### å½“å‰é—®é¢˜
- `internal/` ç›®å½•ç»“æ„å¯ä»¥æ›´æ¸…æ™°
- ç¼ºå°‘æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œ

### å»ºè®®æ”¹è¿›
```
internal/
â”œâ”€â”€ app/                    # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ handlers/
â”œâ”€â”€ domain/                 # é¢†åŸŸå±‚
â”‚   â”œâ”€â”€ entities/
â”‚   â”œâ”€â”€ repositories/
â”‚   â””â”€â”€ services/
â”œâ”€â”€ infrastructure/         # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ cache/
â”‚   â”œâ”€â”€ queue/
â”‚   â””â”€â”€ external/
â”œâ”€â”€ shared/                 # å…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ errors/
â”‚   â”œâ”€â”€ utils/
â”‚   â””â”€â”€ types/
â””â”€â”€ config/                 # é…ç½®ç®¡ç†
    â”œâ”€â”€ loader.go
    â”œâ”€â”€ validator.go
    â””â”€â”€ watcher.go
```

## 6. å·¥å…·å’Œè„šæœ¬ä¼˜åŒ–

### å»ºè®®æ”¹è¿›
```
tools/
â”œâ”€â”€ codegen/               # ä»£ç ç”Ÿæˆå·¥å…·
â”‚   â”œâ”€â”€ protoc/
â”‚   â”œâ”€â”€ mockgen/
â”‚   â””â”€â”€ wire/
â”œâ”€â”€ linting/               # ä»£ç æ£€æŸ¥å·¥å…·
â”‚   â”œâ”€â”€ golangci-lint.yml
â”‚   â””â”€â”€ pre-commit/
â”œâ”€â”€ monitoring/            # ç›‘æ§å·¥å…·
â”‚   â”œâ”€â”€ prometheus/
â”‚   â””â”€â”€ grafana/
â””â”€â”€ migration/             # æ•°æ®åº“è¿ç§»å·¥å…·
    â”œâ”€â”€ scripts/
    â””â”€â”€ templates/
```

## 7. ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†

### å»ºè®®æ”¹è¿›
```
third_party/
â”œâ”€â”€ proto/                 # Protocol Buffers
â”‚   â”œâ”€â”€ google/
â”‚   â””â”€â”€ custom/
â”œâ”€â”€ swagger/               # OpenAPIè§„èŒƒ
â”‚   â”œâ”€â”€ specs/
â”‚   â””â”€â”€ examples/
â””â”€â”€ configs/               # ç¬¬ä¸‰æ–¹é…ç½®
    â”œâ”€â”€ loki/
    â”œâ”€â”€ jaeger/
    â””â”€â”€ prometheus/
```

## å®æ–½å»ºè®®

### ä¼˜å…ˆçº§æ’åº
1. **é«˜ä¼˜å…ˆçº§**: æµ‹è¯•ç›®å½•ç»“æ„ã€æ–‡æ¡£ç»„ç»‡
2. **ä¸­ä¼˜å…ˆçº§**: é…ç½®ç®¡ç†ã€æ„å»ºéƒ¨ç½²
3. **ä½ä¼˜å…ˆçº§**: ä»£ç é‡ç»„ã€å·¥å…·ä¼˜åŒ–

### è¿ç§»ç­–ç•¥
1. **æ¸è¿›å¼è¿ç§»**: é€æ­¥é‡æ„ï¼Œä¸ç ´åç°æœ‰åŠŸèƒ½
2. **å‘åå…¼å®¹**: ä¿æŒç°æœ‰APIå’Œé…ç½®çš„å…¼å®¹æ€§
3. **æ–‡æ¡£å…ˆè¡Œ**: å…ˆå®Œå–„æ–‡æ¡£ï¼Œå†è¿›è¡Œä»£ç é‡æ„
4. **æµ‹è¯•ä¿éšœ**: ç¡®ä¿é‡æ„è¿‡ç¨‹ä¸­æµ‹è¯•è¦†ç›–ç‡ä¸é™ä½

### è‡ªåŠ¨åŒ–å·¥å…·
1. **ä»£ç ç”Ÿæˆ**: ä½¿ç”¨å·¥å…·è‡ªåŠ¨ç”Ÿæˆé‡å¤ä»£ç 
2. **é…ç½®éªŒè¯**: è‡ªåŠ¨éªŒè¯é…ç½®æ–‡ä»¶çš„æœ‰æ•ˆæ€§
3. **ä¾èµ–ç®¡ç†**: è‡ªåŠ¨æ£€æŸ¥å’Œæ›´æ–°ä¾èµ–
4. **æ–‡æ¡£ç”Ÿæˆ**: è‡ªåŠ¨ä»ä»£ç ç”ŸæˆAPIæ–‡æ¡£ 